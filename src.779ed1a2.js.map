{"version":3,"sources":["js/news-service.js","index.js"],"names":["API_KEY","NewsApiService","constructor","searchQuery","page","fetchArticles","url","fetch","then","r","json","data","query","newQuery","newsApiService","refs","searchForm","document","querySelector","galleryContainer","loadMoreBtn","onSearch","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";;;AAEoC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAFpC,MAAMA,EAAU,qCAED,MAAMC,EACjBC,cACCC,KAAAA,YAAc,GACdC,KAAAA,KAAK,EAENC,gBACUC,MAAAA,wEAA4E,KAAKH,oBAAoB,KAAKC,wBAAwBJ,IAClIO,OAAAA,MAAMD,GAAKE,KAAMC,GAAKA,EAAEC,QAAQF,KAAMG,IACpCP,KAAAA,MAAQ,IAKhBQ,YACO,OAAA,KAAKA,MAEZA,UAAMC,GACDV,KAAAA,YAAcU,GAjBS,QAAA,QAAA;;ACmCnC,aArCD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,sBAoCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAlCD,MAAMC,EAAiB,IAAIb,EAAJ,QAEjBc,EAAO,CACTC,WAAYC,SAASC,cAAc,gBACnCC,iBAAkBF,SAASC,cAAc,YACzCE,YAAaH,SAASC,cAAc,8BASxC,SAASG,EAAUC,GACfA,EAAEC,iBAEFT,EAAeF,MAAQU,EAAEE,cAAcC,SAASb,MAAMc,MAEtDZ,EAAeT,gBAQnB,SAASsB,IACLb,EAAeT,gBAnBnBU,EAAKC,WAAWY,iBAAiB,SAAUP,GAC3CN,EAAKK,YAAYQ,iBAAiB,QAAQD","file":"src.779ed1a2.js","sourceRoot":"../src","sourcesContent":["const API_KEY = '21833579-dbfb00598a636f5e3a6a2045e';\n\nexport default class NewsApiService {\n    constructor () {\nthis.searchQuery = '';\nthis.page=1;\n    }\n    fetchArticles() {\n        const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12$key=${API_KEY}`;\n       return fetch(url).then (r => r.json()).then (data => {\n           this.page += 1;\n       });\n\n    }\n\n    get query() {\n        return this.query;\n    }\n    set query(newQuery){\n        this.searchQuery = newQuery;\n    }\n}","import './sass/main.scss';\nimport NewsApiService from './js/news-service';\n\nconst newsApiService = new NewsApiService();\n\nconst refs = {\n    searchForm: document.querySelector('.search-form'),\n    galleryContainer: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('[data-action=\"load-more\"]')\n};\n// const API_KEY = '21833579-dbfb00598a636f5e3a6a2045e';\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click',onLoadMore);\n\n// let searchQuery='';\n\nfunction onSearch (e) {\n    e.preventDefault();\n\n    newsApiService.query = e.currentTarget.elements.query.value;\n\n    newsApiService.fetchArticles();\n\n    // const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=1&per_page=12$key=${API_KEY}`;\n    // fetch (url)\n    // .then (r => r.json())\n    // .then (console.log);\n}\n\nfunction onLoadMore () {\n    newsApiService.fetchArticles();\n\n    // const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=1&per_page=12$key=${API_KEY}`;\n    // fetch (url)\n    // .then (r => r.json())\n    // .then (console.log);\n}\n\n"]}